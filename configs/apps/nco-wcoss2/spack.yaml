spack:
  concretization: separately
  view: false

  - compiler:
    spec: intel@2022.1.2
    paths:
      cc: /pe/intel/compilers_and_libraries_2020.4.304/linux/bin/intel64/icc
      cxx: /pe/intel/compilers_and_libraries_2020.4.304/linux/bin/intel64/icpc
      f77: /pe/intel/compilers_and_libraries_2020.4.304/linux/bin/intel64/ifort
      fc: /pe/intel/compilers_and_libraries_2020.4.304/linux/bin/intel64/ifort
    flags:
      cflags: '-gcc-name=/apps/gcc-10.2.0/gcc-10.2.0/bin/gcc'
      cxxflags: '-gxx-name=/apps/gcc-10.2.0/gcc-10.2.0/bin/g++ -Wl,-rpath,/apps/gcc-10.2.0/gcc-10.2.0/lib64'
      ldflags: '-gcc-name=/apps/gcc-10.2.0/gcc-10.2.0/bin/gcc -gxx-name=/apps/gcc-10.2.0/gcc-10.2.0/bin/g++ -Wl,-rpath,/apps/gcc-10.2.0/gcc-10.2.0/lib64'

  packages:
    all:
      compiler:: [intel@2022.1.2]
      providers:
        mpi:: [intel-oneapi-mpi@2021.5.1]
    mpi:
      buildable: False
    intel-oneapi-mpi:
      externals:
      - spec: intel-oneapi-mpi@2021.5.1%intel@2021.2.0
        prefix: /apps/intel-2021.2/intel-2021.2
        modules:
        - impi/2021.2
      - spec: intel-oneapi-mpi@2022.1.2%intel@2022.1.2
        prefix: /apps/intel-2022.1.2/intel-2022.1.2
        modules:
        - impi/2022.1.2

  specs:
    - gsl-lite@0.40.0
