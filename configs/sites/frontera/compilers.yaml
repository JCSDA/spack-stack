compilers::
  - compiler:
      spec: intel@=23.1.0
      paths:
        cc: /opt/intel/oneapi/compiler/2023.1.0/linux/bin/intel64/icc
        cxx: /opt/intel/oneapi/compiler/2023.1.0/linux/bin/intel64/icpc
        f77: /opt/intel/oneapi/compiler/2023.1.0/linux/bin/intel64/ifort
        fc: /opt/intel/oneapi/compiler/2023.1.0/linux/bin/intel64/ifort
      flags:
        cflags: -diag-disable=10441
        cxxflags: -diag-disable=10441
        fflags: -diag-disable=10448
      operating_system: centos7
      target: x86_64
      modules:
      - intel/23.1.0
      environment:
        prepend_path:
          PATH: '/opt/apps/gcc/9.1.0/bin'
          CPATH: '/opt/apps/gcc/9.1.0/include'
          LD_LIBRARY_PATH: '/opt/intel/oneapi/compiler/2023.1.0/linux/compiler/lib/intel64_lin:/opt/apps/gcc/9.1.0/lib64:/opt/apps/gcc/9.1.0/lib'
        set:
          # https://github.com/JCSDA/spack-stack/issues/1012
          I_MPI_EXTRA_FILESYSTEM: 'ON'
          # https://github.com/JCSDA/spack-stack/issues/1011
          I_MPI_SHM_HEAP_VSIZE: '512'
          PSM2_MEMORY: 'large'
          I_MPI_EXTRA_FILESYSTEM_FORCE: 'gpfs'
          I_MPI_FABRICS: 'ofi'
          I_MPI_OFI_PROVIDER: 'psm3'
          I_MPI_ADJUST_SCATTER: '2'
          I_MPI_ADJUST_SCATTERV: '2'
          I_MPI_ADJUST_GATHER: '2'
          I_MPI_ADJUST_GATHERV: '3'
          I_MPI_ADJUST_ALLGATHER: '3'
          I_MPI_ADJUST_ALLGATHERV: '3'
          I_MPI_ADJUST_ALLREDUCE: '12'
          I_MPI_ADJUST_REDUCE: '10'
          I_MPI_ADJUST_BCAST: '11'
          I_MPI_ADJUST_REDUCE_SCATTER: '4'
          I_MPI_ADJUST_BARRIER: '9'
      extra_rpaths: []
  - compiler:
      spec: gcc@=9.1.0
      paths:
        cc: /opt/apps/gcc/9.1.0/bin/gcc
        cxx: /opt/apps/gcc/9.1.0/bin/g++
        f77: /opt/apps/gcc/9.1.0/bin/gfortran
        fc: /opt/apps/gcc/9.1.0/bin/gfortran
      flags: {}
      operating_system: centos7
      target: x86_64
      modules:
      - gcc/9.1.0
      environment: {}
      extra_rpaths: []
